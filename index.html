<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Dashboard Hippodrome Vincennes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    html, body { height: 100%; margin: 0; font-family: 'Segoe UI', sans-serif; overflow: hidden; background: #f0f2f5; color: #222; }
    header, footer { flex: 0 0 5%; text-align: center; padding: 0.5rem; background: #0f468e; color: #fff; }
    main { display: flex; flex-direction: column; height: 90%; }
    .module { flex: 1; min-height: 0; overflow: hidden; display: flex; flex-direction: column; justify-content: center; padding: 0.5rem; }
    .module h2 { font-size: 1.2rem; color: #0f468e; margin: 0 0 0.3rem; }
    .direction { display: flex; justify-content: space-between; }
    .direction-col { width: 48%; background: #fff; border-radius: 1rem; padding: 0.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .passage { font-size: 1rem; }
    .stops { font-size: 0.8rem; color: #444; }
    .status.warn { background:#fff3cd; color:#856404; padding:0.3rem; border-radius:0.5rem; margin:0.3rem 0; font-weight:bold; }
    .traffic-alert { background:#ffe6e6; color:#b71c1c; padding:0.3rem; border-radius:0.5rem; font-weight:bold; margin-top:0.3rem; }
    .weather, .velib, .global-traffic, .courses { background:#fff; border-radius:1rem; padding:0.5rem; box-shadow:0 2px 8px rgba(0,0,0,0.1); margin-bottom:0.5rem; }
    .countdown { font-weight:bold; color:#0f468e; margin-top:0.2rem; }
    .news-banner { background:#0f468e; color:white; padding:0.3rem; font-weight:bold; text-align:center; }
    .news-banner marquee { font-size:0.9rem; }
  </style>
</head>
<body>
  <header>
    <h1>🚦 Dashboard Mobilité – Hippodrome Vincennes</h1>
  </header>

  <div class="news-banner">
    <marquee behavior="scroll" direction="left">🎉 Prochain meeting Vincennes dimanche ! 🚧 Bus 77 perturbé jusqu’à 12h... 🗞 Nouveaux horaires RER A ce week-end...</marquee>
  </div>

  <main>
    <div class="module">
      <h2>🚆 RER A – Joinville-le-Pont</h2>
      <div class="direction">
        <div class="direction-col">
          <h3>⬆️ Vers La Défense</h3>
          <div class="passage">🕒 03:45 (dans 5 min)<div class="stops">Dessert : Joinville ➔ Nogent ➔ Vincennes ➔ Nation ➔ Châtelet ➔ Auber ➔ Charles-de-Gaulle</div></div>
          <div class="traffic-alert">⚠️ Retard +10 min.</div>
        </div>
        <div class="direction-col">
          <h3>⬇️ Vers Marne-la-Vallée</h3>
          <div class="status warn">⛔ Service terminé. Reprise prévue à 05:00</div>
        </div>
      </div>
    </div>

    <div class="module">
      <h2>🚌 Bus 77 – Hippodrome de Vincennes</h2>
      <div class="direction">
        <div class="direction-col">
          <h3>⬆️ Vers Gare de Lyon</h3>
          <div class="passage">🕒 03:50 (dans 10 min)<div class="stops">Hippodrome ➔ Porte Dorée ➔ Daumesnil ➔ Gare de Lyon</div></div>
          <div class="traffic-alert">⚠️ Terminus modifié Porte Dorée.</div>
        </div>
        <div class="direction-col">
          <h3>⬇️ Vers Joinville</h3>
          <div class="passage">🕒 03:47 (dans 7 min)<div class="stops">Hippodrome ➔ Joinville ➔ Nogent</div></div>
        </div>
      </div>
    </div>

    <div class="module">
      <h2>🚌 Bus 201 – École du Breuil</h2>
      <div class="direction">
        <div class="direction-col">
          <h3>⬆️ Sens 1</h3>
          <div class="passage">🕒 03:55 (dans 12 min)<div class="stops">Arrêts desservis : ...</div></div>
        </div>
        <div class="direction-col">
          <h3>⬇️ Sens 2</h3>
          <div class="status warn">⛔ Service terminé. Reprise prévue à 06:00</div>
        </div>
      </div>
    </div>

    <div class="module">
      <div class="weather">🌤 Météo : 18°C, Partiellement nuageux, Vent 15 km/h</div>
      <div class="velib">🚲 Vélib’ : Station Joinville – 4 vélos, 2 électriques</div>
      <div class="global-traffic">🚦 Trafic : Circulation dense sur A86 et périphérique.</div>
    </div>

    <div class="module">
      <div class="courses">
        <h2>🐎 Prochaines Courses</h2>
        <div>🗓 Dimanche 6/07 – Prix du Président – Départ : 16h15<div class="countdown" id="countdown-president"></div></div>
        <div>🗓 Mardi 8/07 – Grand Prix d’été – Départ : 20h45<div class="countdown" id="countdown-grandprix"></div></div>
      </div>
    </div>
  </main>

  <footer>
    &copy; 2025 Dashboard Hippodrome Vincennes – Données IDFM, Vélib’, Data.gouv
  </footer>

  <script>
    function startCountdown(id, target) {
      function update() {
        const now = new Date(), diff = target - now;
        const el = document.getElementById(id);
        if (!el) return;
        if (diff <= 0) { el.textContent = "🏁 Course commencée !"; return; }
        const d = Math.floor(diff / (1000*60*60*24)), h = Math.floor((diff/3600000)%24), m = Math.floor((diff/60000)%60), s = Math.floor((diff/1000)%60);
        el.textContent = `⏳ Début dans ${d}j ${h}h ${m}m ${s}s`;
      }
      update(); setInterval(update,1000);
    }
    startCountdown('countdown-president', new Date('2025-07-06T16:15:00+02:00'));
    startCountdown('countdown-grandprix', new Date('2025-07-08T20:45:00+02:00'));
  </script>

</body>
</html>
